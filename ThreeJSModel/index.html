<script>
  <!-- code by https://www.html-code-generator.com -->
  document.write(
    unescape(
      "%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%0A%3Chead%3E%0A%20%20%20%20%3Ctitle%3E%u5C6F%u9580%u5357%u5EF6%u7DAB%u7ACB%u9AD4%u6A21%u578B%3C/title%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22utf-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20user-scalable%3Dno%2C%20minimum-scale%3D1.0%2C%20maximum-scale%3D1.0%22%3E%0A%20%20%20%20%3Clink%20type%3D%22text/css%22%20rel%3D%22stylesheet%22%20href%3D%22main.css%22%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23info%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20-1%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23info.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%209%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.model%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.info%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20900px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20height%3A%20100%25%3B%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2095%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-height%3A%2080%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%2357575717%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%201%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate%280%2C%200%29%20scale%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20100ms%20ease-in-out%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.info.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate%280%2C%200%29%20scale%281%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.info%20.close-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23989898%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%203%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%203%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20999%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.infoImg%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.infoBtn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2038px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%20120px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.viewShowBtn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2038px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2070px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.ARCode%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2038px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@font-face%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27lihei-Pro%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20src%3A%20url%28%27examples/fonts/lihei-Pro.eot%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20src%3A%20url%28%27examples/fonts/lihei-Pro.ttf%27%29%20format%28%27truetype%27%29%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27lihei-Pro%27%2C%20Arial%2C%20Helvetica%2C%20sans-serif%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-shadow%3A%20none%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%20%21important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20li%3Anot%28.folder%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20auto%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%2020px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%2010px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgb%28194%2C%20213%2C%20221%29%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20rgb%28102%2C%20116%2C%20125%29%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20rgb%28102%2C%20116%2C%20125%29%20%21important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20.c%20input%5Btype%3Dcheckbox%5D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%2013px%20%21important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20.property-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2070%25%20%21important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20.c%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20float%3A%20right%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2010%25%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20.cr.boolean%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left%3A%200%20%21important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg%20li.title%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgb%28105%2C%20118%2C%20127%29%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23FFF%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20pre%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%200%20%21important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.dg.main%20.close-button.close-bottom%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgb%28105%2C%20118%2C%20127%29%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23FFF%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%204px%20%21important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20306px%20%21important%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.statement%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20rgb%280%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font%3A%2011px%20%27Lucida%20Grande%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.statement%20div%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%202px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.progressBar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2048%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2040%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2020%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%204%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@media%20%28max-width%3A%20479px%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.statement%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20rgb%280%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font%3A%208px%20%27Lucida%20Grande%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.statement%20div%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.viewShowBtn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2038px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2055px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.infoBtn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2038px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class%3D%22progressBar%22%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id%3D%22progressBar%22%20value%3D%220%22%20max%3D%22100%22%3E%3C/progress%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22statement%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%u6B64%u7ACB%u9AD4%u6A21%u578B%u7D93%u7C21%u5316%u4F5C%u793A%u610F%u7528%u9014%uFF0C%u53EA%u4F9B%u53C3%u8003%u3002%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3EThis%203D%20model%20is%20simplified%20and%20indicative.%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3EFor%20reference%20only.%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cimg%20src%3D%22./examples/images/info.svg%22%20alt%3D%22%22%20class%3D%22infoBtn%22%20id%3D%22infoBtn%22%3E%0A%20%20%20%20%3Cimg%20src%3D%22./examples/images/icon-hide.svg%22%20alt%3D%22%22%20class%3D%22viewShowBtn%22%20id%3D%22hideBtn%22%3E%0A%20%20%20%20%3Cimg%20src%3D%22./examples/images/icon-view.svg%22%20alt%3D%22%22%20class%3D%22viewShowBtn%22%20id%3D%22viewBtn%22%3E%0A%20%20%20%20%3Cdiv%20id%3D%22info%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22model%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22closeBtn%22%20class%3D%22close-button%20welcome-close%22%3E%26times%3B%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22./examples/images/Control-Guide.png%22%20alt%3D%22%22%20class%3D%22infoImg%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%0A%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//threejs.org%22%20target%3D%22_blank%22%20rel%3D%22noopener%22%3Ethree.js%3C/a%3E%0A%20%20%20%20%20%20%20%20%3Ca%20rel%3D%22ar%22%0A%20%20%20%20%20%20%20%20%20%20%20%20href%3D%22https%3A//tungchunglineextension.virtual-engage.com/ThreeJSModel/examples/models/TMLX_3D_usdz.usdz%22%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22model/usd%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20class%3D%22ARCode%22%20src%3D%22./examples/images/Icons-06-AR.svg%22%20alt%3D%22%22%3E%0A%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cscript%20type%3D%22text/javascript%22%3E%0A%0A%20%20%20%20%20%20%20%20init%28%29%3B%0A%0A%20%20%20%20%20%20%20%20function%20init%28%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20isMobile%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Android%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.userAgent.match%28/Android%7CLinux/i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20BlackBerry%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.userAgent.match%28/BlackBerry/i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iOS%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20isIOS%20%3D%20/iPad%7CiPhone%7CiPod/.test%28navigator.platform%29%20%7C%7C%20%28navigator.platform%20%3D%3D%3D%20%27MacIntel%27%20%26%26%20navigator.maxTouchPoints%20%3E%201%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20isIOS%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//return%20navigator.userAgent.match%28/iPhone%7CiPad%7CiPod/i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Safari%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.userAgent.match%28/Safari/i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Opera%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.userAgent.match%28/Opera%20Mini/i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Windows%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20navigator.userAgent.match%28/IEMobile/i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20any%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28isMobile.Android%28%29%20%7C%7C%20isMobile.BlackBerry%28%29%20%7C%7C%20isMobile.iOS%28%29%20%7C%7C%20isMobile.Opera%28%29%20%7C%7C%20isMobile.Windows%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20targetHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20defualtModel%20%3D%20window.location.search%20%3D%3D%20%22%22%20%3F%20%22TMLX%22%20%3A%20window.location.search.replace%28%22%3Fmodel%3D%22%2C%20%22%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//AR%20link%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isMobile.Android%28%29%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20targetHTML%20%3D%20%27intent%3A//arvr.google.com/scene-viewer/1.0%3Ffile%3D%27%20+%20%20%27https%3A//s3-ap-southeast-1.amazonaws.com/arupreal.arup.com.hk/three/examples/usdz/Untitled_3JSGLBtoUSDZ.usdz%27%20+%20%27%26mode%3D3d_preferred%23Intent%3Bscheme%3Dhttps%3Bpackage%3Dcom.google.android.googlequicksearchbox%3Baction%3Dandroid.intent.action.VIEW%3Bend%3B%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20targetHTML%20%3D%20%60intent%3A//arvr.google.com/scene-viewer/1.0%3Ffile%3Dhttps%3A//tungchunglineextension.virtual-engage.com/ThreeJSModel/examples/models/%24%7BdefualtModel%7D_3D_glb.glb%26mode%3D3d_preferred%23Intent%3Bscheme%3Dhttps%3Bpackage%3Dcom.google.android.googlequicksearchbox%3Baction%3Dandroid.intent.action.VIEW%3Bend%3B%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isMobile.iOS%28%29%20%21%3D%20false%20%26%26%20isMobile.Safari%28%29%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20targetHTML%20%3D%20%60https%3A//tungchunglineextension.virtual-engage.com/ThreeJSModel/examples/models/%24%7BdefualtModel%7D_3D_usdz.usdz%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isMobile.Android%28%29%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.writeln%28%27%3Ca%20id%3D%22btn-AR%22%20href%3D%22%27%20+%20targetHTML%20+%20%27%22%20rel%3D%22ar%22%3E%3Cimg%20src%3D%22./examples/images/Icons-06-AR.svg%22%20border%3D%220%22%20class%3D%22ARCode%22%20/%3E%3C/a%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isMobile.iOS%28%29%20%21%3D%20false%20%26%26%20isMobile.Safari%28%29%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.writeln%28%27%3Ca%20id%3D%22btn-AR%22%20href%3D%22%27%20+%20targetHTML%20+%20%27%22%20rel%3D%22ar%22%3E%3Cimg%20src%3D%22./examples/images/Icons-06-AR.svg%22%20border%3D%220%22%20class%3D%22ARCode%22%20/%3E%3C/a%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.writeln%28%27%3Cimg%20src%3D%22./examples/images/Icons-06-AR.svg%22%20border%3D%220%22%20class%3D%22ARCode%22%20/%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20infoBtn%20%3D%20document.getElementById%28%27infoBtn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20closeBtn%20%3D%20document.getElementById%28%27closeBtn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20info%20%3D%20document.getElementsByClassName%28%27info%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20infoID%20%3D%20document.getElementById%28%27info%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20infoBtn.addEventListener%28%27click%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info%5B0%5D.classList.add%28%22active%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20infoID.classList.add%28%22active%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20closeBtn.addEventListener%28%27click%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info%5B0%5D.classList.remove%28%22active%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20infoID.classList.remove%28%22active%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20hideBtn%20%3D%20document.getElementById%28%27hideBtn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20viewBtn%20%3D%20document.getElementById%28%27viewBtn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20dg%20%3D%20document.getElementsByClassName%28%27dg%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideBtn.addEventListener%28%27click%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hideBtn.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20viewBtn.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dg%5B1%5D.style.display%20%3D%20%27block%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20viewBtn.addEventListener%28%27click%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20viewBtn.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hideBtn.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dg%5B1%5D.style.display%20%3D%20%27none%27%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%0A%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/script%3E%0A%0A%20%20%20%20%3Cscript%20type%3D%22module%22%3E%0A%0A%20%20%20%20%20%20%20%20import%20*%20as%20THREE%20from%20%27./build/three.module.js%27%3B%0A%0A%20%20%20%20%20%20%20%20import%20Stats%20from%20%27./examples/jsm/libs/stats.module.js%27%3B%0A%20%20%20%20%20%20%20%20import%20%7B%20GUI%20%7D%20from%20%27./examples/jsm/libs/dat.gui.module.js%27%3B%0A%0A%20%20%20%20%20%20%20%20//%20for%20SSAO%0A%20%20%20%20%20%20%20%20import%20%7B%20EffectComposer%20%7D%20from%20%27./examples/jsm/postprocessing/EffectComposer.js%27%3B%0A%20%20%20%20%20%20%20%20import%20%7B%20SSAOPass%20%7D%20from%20%27./examples/jsm/postprocessing/SSAOPass.js%27%3B%0A%20%20%20%20%20%20%20%20//%0A%0A%20%20%20%20%20%20%20%20//%20OBJLoader%0A%20%20%20%20%20%20%20%20import%20%7B%20OBJLoader%20%7D%20from%20%27./examples/jsm/loaders/OBJLoader.js%27%3B%0A%20%20%20%20%20%20%20%20//%0A%0A%20%20%20%20%20%20%20%20import%20%7B%20OrbitControls%20%7D%20from%20%27./examples/jsm/controls/OrbitControls.js%27%3B%0A%0A%20%20%20%20%20%20%20%20//%20FBXLoader%0A%20%20%20%20%20%20%20%20import%20%7B%20FBXLoader%20%7D%20from%20%27./examples/jsm/loaders/FBXLoader.js%27%3B%0A%0A%20%20%20%20%20%20%20%20//for%20contact%20shadow%0A%20%20%20%20%20%20%20%20import%20%7B%20HorizontalBlurShader%20%7D%20from%20%27./examples/jsm/shaders/HorizontalBlurShader.js%27%3B%0A%20%20%20%20%20%20%20%20import%20%7B%20VerticalBlurShader%20%7D%20from%20%27./examples/jsm/shaders/VerticalBlurShader.js%27%3B%0A%20%20%20%20%20%20%20%20//%0A%0A%20%20%20%20%20%20%20%20let%20container%2C%20stats%3B%0A%20%20%20%20%20%20%20%20let%20camera%2C%20scene%2C%20renderer%2C%20controls%3B%0A%20%20%20%20%20%20%20%20var%20composer%3B%0A%20%20%20%20%20%20%20%20let%20group%3B%0A%0A%20%20%20%20%20%20%20%20let%20mouseX%20%3D%200%2C%20mouseY%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20let%20windowHalfX%20%3D%20window.innerWidth%20/%202%3B%0A%20%20%20%20%20%20%20%20let%20windowHalfY%20%3D%20window.innerHeight%20/%202%3B%0A%0A%20%20%20%20%20%20%20%20let%20actions%2C%20settings%3B%0A%20%20%20%20%20%20%20%20let%20TMLX%3B%0A%20%20%20%20%20%20%20%20let%20TMLXMenu%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20let%20TCW%3B%0A%20%20%20%20%20%20%20%20let%20TCE%3B%0A%20%20%20%20%20%20%20%20let%20currentModel%20%3D%20window.location.search%20%3D%3D%20%22%22%20%3F%20%22TMLX%22%20%3A%20window.location.search.replace%28%22%3Fmodel%3D%22%2C%20%22%22%29%3B%0A%0A%20%20%20%20%20%20%20%20//%20for%20contact%20shadow%0A%20%20%20%20%20%20%20%20const%20PLANE_WIDTH%20%3D%2030.0%3B%0A%20%20%20%20%20%20%20%20const%20PLANE_HEIGHT%20%3D%2030.0%3B%0A%20%20%20%20%20%20%20%20const%20CAMERA_HEIGHT%20%3D%202%3B%0A%0A%20%20%20%20%20%20%20%20const%20state%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20shadow%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20blur%3A%203.5%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20darkness%3A%201.%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.5%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20plane%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%27%23ffffff%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20showWireframe%3A%20false%2C%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20let%20shadowGroup%2C%20renderTarget%2C%20renderTargetBlur%2C%20shadowCamera%2C%20cameraHelper%2C%20depthMaterial%2C%20horizontalBlurMaterial%2C%20verticalBlurMaterial%3B%0A%0A%20%20%20%20%20%20%20%20let%20plane%2C%20blurPlane%2C%20fillPlane%3B%0A%20%20%20%20%20%20%20%20//%20end%20of%20contact%20shadow%0A%0A%20%20%20%20%20%20%20%20init%28%29%3B%0A%20%20%20%20%20%20%20%20animate%28%29%3B%0A%0A%20%20%20%20%20%20%20%20function%20init%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28currentModel%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20container%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild%28container%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20containerWidth%20%3D%20container.clientWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20containerHeight%20%3D%20container.clientHeight%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer%20%3D%20new%20THREE.WebGLRenderer%28%7B%20antialias%3A%20true%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setSize%28window.innerWidth%2C%20window.innerHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20added%20by%20AH%20on%207%20May%202021%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20to%20solve%20pixelated%20issue%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setPixelRatio%28window.devicePixelRatio%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild%28renderer.domElement%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20camera%20%3D%20new%20THREE.PerspectiveCamera%2850%2C%20window.innerWidth%20/%20window.innerHeight%2C%200.01%2C%202000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20camera.position.z%20%3D%20500%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20camera.position.set%28-3.370%2C%202.575%2C%20-4.216%29%3B//%u53EF%u4EE5%u901A%u8FC7threejs%20editor%u786E%u5B9Acamera%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20camera.lookAt%280%2C%200%2C%200%29%3B//%u770B%u5411%u539F%u70B9%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20scene%20%3D%20new%20THREE.Scene%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.background%20%3D%20new%20THREE.Color%280xe0e0e0%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ambientLight%20%3D%20new%20THREE.AmbientLight%280xFFFFFF%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.add%28ambientLight%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20spotLight%20%3D%20new%20THREE.SpotLight%280xFFFFFF%2C%200.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20spotLight.angle%20%3D%20Math.PI%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20spotLight.penumbra%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20spotLight.position.set%2810%2C%2010%2C%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20spotLight.castShadow%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.add%28spotLight%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Directional%20Light%20%u65B9%u5411%u5149%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20directionalLight1%20%3D%20new%20THREE.DirectionalLight%280xFFFFFF%2C%200.8%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20directionalLight1.position.set%280.39%2C%201.406%2C%20-1.14%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//directionalLight1.castShadow%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//directionalLight1.shadow.radius%20%3D%2080%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.add%28directionalLight1%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20directionalLight2%20%3D%20new%20THREE.DirectionalLight%280xFFFFFF%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20directionalLight2.position.set%28-1.6%2C%201.5%2C%201.4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20//directionalLight.castShadow%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20//directionalLight.shadow.radius%20%3D%2080%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20scene.add%28directionalLight2%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20directionalLight3%20%3D%20new%20THREE.DirectionalLight%280xFFFFFF%2C%200.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20directionalLight3.position.set%282.6%2C%202.7%2C%202.7%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20//directionalLight.castShadow%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20//directionalLight.shadow.radius%20%3D%2080%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//scene.add%28directionalLight3%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.add%28camera%29%3B%0A%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20manager%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20manager%20%3D%20new%20THREE.LoadingManager%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20manager.onProgress%20%3D%20function%20%28item%2C%20loaded%2C%20total%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28item%2C%20loaded%2C%20total%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20texture%0A%20%20%20%20%20%20%20%20%20%20%20%20/*var%20texture%20%3D%20new%20THREE.Texture%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20loader%20%3D%20new%20THREE.ImageLoader%28manager%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20loader.load%28%27examples/models/sea.png%27%2C%20function%28image%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20texture.image%20%3D%20image%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20texture.needsUpdate%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20texture2%20%3D%20new%20THREE.Texture%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20loader%20%3D%20new%20THREE.ImageLoader%28manager%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20loader.load%28%27examples/models/mountain.png%27%2C%20function%28image%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20texture2.image%20%3D%20image%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20texture2.needsUpdate%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B*/%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20model%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20progressBar%20%3D%20document.getElementById%28%27progressBar%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20onProgress%28xhr%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28xhr.lengthComputable%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20percentComplete%20%3D%20xhr.loaded%20/%20xhr.total%20*%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%27model%20%27%20+%20Math.round%28percentComplete%2C%202%29%20+%20%27%25%20downloaded%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28xhr.currentTarget.responseURL.includes%28currentModel%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20progressBar.value%20%3D%20percentComplete%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28percentComplete%20%3D%3D%20100%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20progressBar.style.visibility%20%3D%20%22hidden%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20onError%28%29%20%7B%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20const%20objloader%20%3D%20new%20OBJLoader%28%20manager%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20objloader.load%28%20%27examples/models/obj/UntitledOBJ_AH_threejs.obj%27%2C%20function%20%28%20obj%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09//%20scene.remove%28model%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09object%20%3D%20obj%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09object.position.y%20%3D%200%3B%20//%u6446%u653E%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09object.scale.set%281%2C%201%2C%201%29%3B%20//%u7F29%u653E%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09//%20%u8D4B%u4E88%u6750%u8D28%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09object.getObjectByName%28%22mesh_5%22%29.material.map%20%3D%20texture2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09object.getObjectByName%28%22mesh_2%22%29.material.map%20%3D%20texture%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09//%20object%u6446%u5165%u573A%u666F%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09scene.add%28%20object%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09//%20%u6A21%u578BGUI%u5F00%u5173%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%09createPanel%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%7D%2C%20onProgress%2C%20onError%20%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20fbxloader%20%3D%20new%20FBXLoader%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20fbxloader.load%28%27./examples/models/TMLX_3D.fbx%27%2C%20function%20%28object%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28object%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20TMLX%20%3D%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.position.z%20%3D%200%3B%20//%u6446%u653E%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.position.y%20%3D%200%3B%20//%u6446%u653E%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.position.x%20%3D%201.5%3B%20//%u6446%u653E%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.rotation.y%20%3D%208.6%20*%20Math.PI%20/%2012%3B%20//rotation%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//scale%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.scale.x%20%3D%200.25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.scale.y%20%3D%200.25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.scale.z%20%3D%200.25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20mixer%20%3D%20new%20THREE.AnimationMixer%28%20object%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20const%20action%20%3D%20mixer.clipAction%28%20object.animations%5B%200%20%5D%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20action.play%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20object.traverse%28%20function%20%28%20child%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20if%20%28%20child.isMesh%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20child.castShadow%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20child.receiveShadow%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%7D%20%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scene.add%28object%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20object.visible%20%3D%20currentModel%20%3D%3D%20%22TMLX%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//object.getObjectByName%28%22bb155eb7-03e5-45a6-b1c1-665cd693a9f4%22%29.visible%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log%28object.getObjectByName%28%22bb155eb7-03e5-45a6-b1c1-665cd693a9f4%22%29.visible%29%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%u6A21%u578BGUI%u5F00%u5173%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20createPanel%28%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20onProgress%2C%20onError%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20fbxloader.load%28%27./examples/models/TCW_3D.fbx%27%2C%20function%20%28object%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20console.log%28object%29%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20TCW%20%3D%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.position.y%20%3D%200%3B%20//%u6446%u653E%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.rotation.y%20%3D%20Math.PI%3B%20//rotation%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20//scale%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.scale.x%20%3D%200.02%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.scale.y%20%3D%200.02%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.scale.z%20%3D%200.02%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20scene.add%28object%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.visible%20%3D%20currentModel%20%3D%3D%20%22TCW%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%7D%2C%20onProgress%2C%20onError%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20fbxloader.load%28%27./examples/models/TCE_3D.fbx%27%2C%20function%20%28object%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20console.log%28object%29%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20TCE%20%3D%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.position.y%20%3D%200%3B%20//%u6446%u653E%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.rotation.y%20%3D%20Math.PI%20/%205%3B%20//rotation%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20//scale%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.scale.x%20%3D%200.02%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.scale.y%20%3D%200.02%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.scale.z%20%3D%200.02%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20scene.add%28object%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20%20%20%20object.visible%20%3D%20currentModel%20%3D%3D%20%22TCE%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%7D%2C%20onProgress%2C%20onError%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20stats%20%3D%20new%20Stats%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20container.appendChild%28%20stats.dom%20%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20SSAO%u6548%u679C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20width%20%3D%20window.innerWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20height%20%3D%20window.innerHeight%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20composer%20%3D%20new%20EffectComposer%28%20renderer%20%29%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ssaoPass%20%3D%20new%20SSAOPass%28%20scene%2C%20camera%2C%20width%2C%20height%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ssaoPass.kernelRadius%20%3D%200.014%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ssaoPass.minDistance%3D0.002%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ssaoPass.maxDistance%3D0.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20composer.addPass%28%20ssaoPass%20%29%3B%0A%20%20%20%20%20%20%20%20%09%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20composer.render%28%29%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%09%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20SSAO%20gui%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gui%20%3D%20new%20GUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gui.add%28%20ssaoPass%2C%20%27output%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Default%27%3A%20SSAOPass.OUTPUT.Default%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27SSAO%20Only%27%3A%20SSAOPass.OUTPUT.SSAO%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27SSAO%20Only%20+%20Blur%27%3A%20SSAOPass.OUTPUT.Blur%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Beauty%27%3A%20SSAOPass.OUTPUT.Beauty%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Depth%27%3A%20SSAOPass.OUTPUT.Depth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Normal%27%3A%20SSAOPass.OUTPUT.Normal%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%29.onChange%28%20function%20%28%20value%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ssaoPass.output%20%3D%20parseInt%28%20value%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%29%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gui.add%28%20ssaoPass%2C%20%27kernelRadius%27%20%29.min%28%200.0%20%29.max%28%2010.0%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gui.add%28%20ssaoPass%2C%20%27minDistance%27%20%29.min%28%200.0001%20%29.max%28%200.005%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gui.add%28%20ssaoPass%2C%20%27maxDistance%27%20%29.min%28%200.05%20%29.max%28%201.0%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20end%20of%20SSAO%20gui%0A%20%20%20%20%20%20%20%20%20%20%20%20*/%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%u63A7%u5236%u65B9%u5F0F%20-%20Control%0A%20%20%20%20%20%20%20%20%20%20%20%20controls%20%3D%20new%20OrbitControls%28camera%2C%20renderer.domElement%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.target.set%280%2C%200%2C%200%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.rotateSpeed%20%3D%201.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.zoomSpeed%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.panSpeed%20%3D%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.minDistance%20%3D%202%3B%20//0%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.maxDistance%20%3D%2010%3B%20//Infinity%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20added%20by%20AH%202021.5.15%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%u9650%u5236%u4E0D%u80FD%u8F6C%u52A8%u5230%u4E0B%u65B9%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%u63A7%u5236%u5C0F%u4E8E90%u5EA6%uFF0C%u53D685%u5EA6%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.maxPolarAngle%20%3D%20Math.PI%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%u9650%u5236%u6A21%u578B%u4E0D%u80FD%u4E0A%u4E0B%u5E73%u79FB%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.screenSpacePanning%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//save%20control%20state%20for%20resetting%20later%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.saveState%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20window.addEventListener%28%27resize%27%2C%20onWindowResize%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//contact%20shadow%20-%20%u6A21%u578B%u5E95%u90E8%u7684%u9634%u5F71%u8BBE%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20edited%20by%20AH%2020210313%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20container%2C%20if%20you%20need%20to%20move%20the%20plane%20just%20move%20this%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowGroup%20%3D%20new%20THREE.Group%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowGroup.position.y%20%3D%20-0.2%3B%20//%u5E73%u9762%u6446%u653E%u7684%u4F4D%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.add%28shadowGroup%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20render%20target%20that%20will%20show%20the%20shadows%20in%20the%20plane%20texture%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTarget%20%3D%20new%20THREE.WebGLRenderTarget%28512%2C%20512%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTarget.texture.generateMipmaps%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20render%20target%20that%20we%20will%20use%20to%20blur%20the%20first%20render%20target%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTargetBlur%20%3D%20new%20THREE.WebGLRenderTarget%28512%2C%20512%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderTargetBlur.texture.generateMipmaps%20%3D%20false%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20make%20a%20plane%20and%20make%20it%20face%20up%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20planeGeometry%20%3D%20new%20THREE.PlaneGeometry%28PLANE_WIDTH%2C%20PLANE_HEIGHT%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20planeMaterial%20%3D%20new%20THREE.MeshBasicMaterial%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20map%3A%20renderTarget.texture%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%20state.shadow.opacity%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transparent%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20depthWrite%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20plane%20%3D%20new%20THREE.Mesh%28planeGeometry%2C%20planeMaterial%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20make%20sure%20it%27s%20rendered%20after%20the%20fillPlane%0A%20%20%20%20%20%20%20%20%20%20%20%20plane.renderOrder%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowGroup.add%28plane%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20y%20from%20the%20texture%20is%20flipped%21%0A%20%20%20%20%20%20%20%20%20%20%20%20plane.scale.y%20%3D%20-%201%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20plane%20onto%20which%20to%20blur%20the%20texture%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane%20%3D%20new%20THREE.Mesh%28planeGeometry%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.visible%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowGroup.add%28blurPlane%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20plane%20with%20the%20color%20of%20the%20ground%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20fillPlaneMaterial%20%3D%20new%20THREE.MeshBasicMaterial%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20state.plane.color%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%20state.plane.opacity%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transparent%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20depthWrite%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20fillPlane%20%3D%20new%20THREE.Mesh%28planeGeometry%2C%20fillPlaneMaterial%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20fillPlane.rotateX%28Math.PI%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowGroup.add%28fillPlane%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20the%20camera%20to%20render%20the%20depth%20material%20from%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowCamera%20%3D%20new%20THREE.OrthographicCamera%28-%20PLANE_WIDTH%20/%202%2C%20PLANE_WIDTH%20/%202%2C%20PLANE_HEIGHT%20/%202%2C%20-%20PLANE_HEIGHT%20/%202%2C%200%2C%20CAMERA_HEIGHT%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowCamera.rotation.x%20%3D%20Math.PI%20/%202%3B%20//%20get%20the%20camera%20to%20look%20up%0A%20%20%20%20%20%20%20%20%20%20%20%20shadowGroup.add%28shadowCamera%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cameraHelper%20%3D%20new%20THREE.CameraHelper%28shadowCamera%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20like%20MeshDepthMaterial%2C%20but%20goes%20from%20black%20to%20transparent%0A%20%20%20%20%20%20%20%20%20%20%20%20depthMaterial%20%3D%20new%20THREE.MeshDepthMaterial%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20depthMaterial.userData.darkness%20%3D%20%7B%20value%3A%20state.shadow.darkness%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20depthMaterial.onBeforeCompile%20%3D%20function%20%28shader%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20shader.uniforms.darkness%20%3D%20depthMaterial.userData.darkness%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20shader.fragmentShader%20%3D%20/*%20glsl%20*/%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%09uniform%20float%20darkness%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%09%24%7Bshader.fragmentShader.replace%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27gl_FragColor%20%3D%20vec4%28%20vec3%28%201.0%20-%20fragCoordZ%20%29%2C%20opacity%20%29%3B%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27gl_FragColor%20%3D%20vec4%28%20vec3%28%200.0%20%29%2C%20%28%201.0%20-%20fragCoordZ%20%29%20*%20darkness%20%29%3B%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20depthMaterial.depthTest%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20depthMaterial.depthWrite%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20horizontalBlurMaterial%20%3D%20new%20THREE.ShaderMaterial%28HorizontalBlurShader%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20horizontalBlurMaterial.depthTest%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20verticalBlurMaterial%20%3D%20new%20THREE.ShaderMaterial%28VerticalBlurShader%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20verticalBlurMaterial.depthTest%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*******%20Model%20Switcher%20Pannel%20********/%0A%20%20%20%20%20%20%20%20//%20%u6A21%u578B%u5F00%u5173%u53CA%u63A7%u5236%0A%20%20%20%20%20%20%20%20//%20%u53EF%u8FDB%u4E00%u6B65%u8C03%u6574%u6837%u5F0F%uFF1F%uFF1F%0A%20%20%20%20%20%20%20%20function%20createPanel%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28window.screen.width%29%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20panel%20%3D%20window.screen.width%20%3C%3D%20398%20%3F%20new%20GUI%28%7B%20width%3A%20210%20%7D%29%20%3A%20new%20GUI%28%7B%20width%3A%20310%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20folder1%20%3D%20panel.addFolder%28%27%u5C6F%u9580%u5357%u5EF6%u7DAB%u7ACB%u9AD4%u6A21%u578B%20%5Cn3D%20Model%20of%20Tuen%20Mun%20South%20Extension%20%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20settings%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%u73FE%u6709%u5C6F%u99AC%u7DAB%3Cbr/%3EExisting%20Tuen%20Ma%20Line%27%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%u5C6F%u9580%u5357%u5EF6%u7DAB%3Cbr/%3ETuen%20Mun%20South%20Extension%27%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20item1%20%3D%20folder1.add%28settings%2C%20%27%u73FE%u6709%u5C6F%u99AC%u7DAB%3Cbr/%3EExisting%20Tuen%20Ma%20Line%27%29.onChange%28showL1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20item2%20%3D%20folder1.add%28settings%2C%20%27%u5C6F%u9580%u5357%u5EF6%u7DAB%3Cbr/%3ETuen%20Mun%20South%20Extension%27%29.onChange%28showL2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLXMenu.push%28item1.domElement.parentNode.parentNode%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLXMenu.push%28item2.domElement.parentNode.parentNode%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLXMenu.forEach%28item%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.style.display%20%3D%20currentModel%20%3D%3D%20%22TMLX%22%20%3F%20%22block%22%20%3A%20%22none%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window.screen.width%20%3C%3D%20398%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20folder1.domElement.style.setProperty%28%22font-size%22%2C%20%2210px%22%2C%20%22important%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20folder1.open%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20let%20folder2%20%3D%20panel.addFolder%28%27%u6771%u6D8C%u897F%u7AD9%u7ACB%u9AD4%u6A21%u578B%20%5Cn3D%20Model%20of%20Tung%20Chung%20West%20Station%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20let%20folder3%20%3D%20panel.addFolder%28%27%u6771%u6D8C%u6771%u7AD9%u7ACB%u9AD4%u6A21%u578B%20%5Cn3D%20Model%20of%20Tung%20Chung%20East%20Station%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20folder1.domElement.onclick%20%3D%20function%20%28%29%20%7B%20showTMLE%28%29%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20folder2.domElement.onclick%20%3D%20function%20%28%29%20%7B%20showTCW%28%29%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20folder3.domElement.onclick%20%3D%20function%20%28%29%20%7B%20showTCE%28%29%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20let%20folder3%20%3D%20panel.addFolder%28%27%u6B64%u7ACB%u9AD4%u6A21%u578B%u7D93%u7C21%u5316%u4F5C%u793A%u610F%u7528%u9014%uFF0C%u53EA%u4F9B%u53C3%u8003%u3002%5CnThis%203D%20model%20is%20simplified%20and%20indicative.%20%5CnFor%20reference%20only.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20folder3.domElement.style%20%3D%20%22position%3A%20absolute%20%21important%3B%20top%3A10px%3B%20left%3A10px%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showMenuItems%28menu%2C%20visibility%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20menu.forEach%28item%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.style.display%20%3D%20visibility%20%3F%20%22block%22%20%3A%20%22none%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showL1%28visibility%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLX.children%5B0%5D.children%5B1%5D.visible%20%3D%20visibility%3B%0A%0A%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20showL2%28visibility%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLX.children%5B0%5D.children%5B0%5D.visible%20%3D%20visibility%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20showL3%28visibility%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLX.children%5B0%5D.children%5B6%5D.visible%20%3D%20visibility%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20showTMLE%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20TMLX.visible%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showMenuItems%28TMLXMenu%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28document.getElementById%28%22btn-AR%22%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%22btn-AR%22%29.href%20%3D%20document.getElementById%28%22btn-AR%22%29.href.replace%28currentModel%2C%20%22TMLX%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentModel%20%3D%20%22TMLX%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20controls.reset%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20/*******%20End%20of%20Model%20Switcher%20Pannel%20********/%0A%0A%0A%20%20%20%20%20%20%20%20function%20animate%28%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame%28animate%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20contact%20shadow%20%u90E8%u5206%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20remove%20the%20background%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20initialBackground%20%3D%20scene.background%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.background%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20force%20the%20depthMaterial%20to%20everything%0A%20%20%20%20%20%20%20%20%20%20%20%20cameraHelper.visible%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.overrideMaterial%20%3D%20depthMaterial%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20render%20to%20the%20render%20target%20to%20get%20the%20depths%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setRenderTarget%28renderTarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.render%28scene%2C%20shadowCamera%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20and%20reset%20the%20override%20material%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.overrideMaterial%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cameraHelper.visible%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20blurShadow%28state.shadow.blur%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20a%20second%20pass%20to%20reduce%20the%20artifacts%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%280.4%20is%20the%20minimum%20blur%20amout%20so%20that%20the%20artifacts%20are%20gone%29%0A%20%20%20%20%20%20%20%20%20%20%20%20blurShadow%28state.shadow.blur%20*%200.4%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20reset%20and%20render%20the%20normal%20scene%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setRenderTarget%28null%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20scene.background%20%3D%20initialBackground%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20stats.begin%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20render%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20stats.end%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20stats.update%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20render%28%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20const%20timer%20%3D%20performance.now%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20group.rotation.x%20%3D%20timer%20*%200.0002%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20group.rotation.y%20%3D%20timer%20*%200.0001%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.render%28scene%2C%20camera%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%u5E94%u7528SSAO%u5FC5%u987B%u6709%u8FD9%u53E5%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20composer.render%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20onWindowResize%28%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20windowHalfX%20%3D%20window.innerWidth%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20windowHalfY%20%3D%20window.innerHeight%20/%202%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20camera.aspect%20%3D%20window.innerWidth%20/%20window.innerHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20camera.updateProjectionMatrix%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setSize%28window.innerWidth%2C%20window.innerHeight%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//composer.setSize%28%20window.innerWidth%2C%20window.innerHeight%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20function%20animate%28%29%20%7B%0A%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20requestAnimationFrame%28%20animate%20%29%3B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20render%28%29%3B%0A%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20%7D%0A%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20function%20render%28%29%20%7B%0A%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20//%20camera.position.x%20+%3D%20%28%20mouseX%20-%20camera.position.x%20%29%20*%20.05%3B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20//%20camera.position.y%20+%3D%20%28%20-%20mouseY%20-%20camera.position.y%20%29%20*%20.05%3B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20//%20camera.lookAt%28%20scene.position%20%29%3B%0A%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20renderer.render%28%20scene%2C%20camera%20%29%3B%0A%20%20%20%20%20%20%20%20//%0A%20%20%20%20%20%20%20%20//%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20renderTarget%20%20blurPlane%20%28horizontalBlur%29%20%20renderTargetBlur%20%20blurPlane%20%28verticalBlur%29%20%20renderTarget%0A%20%20%20%20%20%20%20%20function%20blurShadow%28amount%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.visible%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20blur%20horizontally%20and%20draw%20in%20the%20renderTargetBlur%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.material%20%3D%20horizontalBlurMaterial%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.material.uniforms.tDiffuse.value%20%3D%20renderTarget.texture%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20horizontalBlurMaterial.uniforms.h.value%20%3D%20amount%20*%201%20/%20256%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setRenderTarget%28renderTargetBlur%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.render%28blurPlane%2C%20shadowCamera%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20blur%20vertically%20and%20draw%20in%20the%20main%20renderTarget%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.material%20%3D%20verticalBlurMaterial%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.material.uniforms.tDiffuse.value%20%3D%20renderTargetBlur.texture%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20verticalBlurMaterial.uniforms.v.value%20%3D%20amount%20*%201%20/%20256%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.setRenderTarget%28renderTarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer.render%28blurPlane%2C%20shadowCamera%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20blurPlane.visible%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%3C/script%3E%0A%3C/body%3E%0A%0A%3C/html%3E"
    )
  );
</script>
